# Git attributes for proper Nix file handling and deterministic builds
# Ensures consistent line endings and file treatment across platforms

# Core deterministic build files
*.nix text eol=lf
*.lock text eol=lf
flake.nix text eol=lf
flake.lock text eol=lf linguist-generated=true

# Build and configuration files
Cargo.toml text eol=lf
Cargo.lock text eol=lf linguist-generated=true
*.rs text eol=lf
*.sh text eol=lf
*.yml text eol=lf
*.yaml text eol=lf
*.json text eol=lf
*.md text eol=lf
*.txt text eol=lf

# Git-specific configuration
.gitignore text eol=lf
.gitattributes text eol=lf
.gitmodules text eol=lf

# Binary files (no text conversion)
*.wasm binary
*.so binary
*.dylib binary
*.dll binary
*.exe binary
*.bin binary
*.pdf binary
*.png binary
*.jpg binary
*.jpeg binary
*.gif binary
*.ico binary
*.zip binary
*.tar.gz binary
*.tar.bz2 binary
*.tar.xz binary
*.rar binary
*.7z binary

# Log files and outputs (treat as text but don't normalize)
*.log text -diff
*.out text -diff

# Deterministic build outputs
build_hashes*.txt text eol=lf -diff
metrics.json text eol=lf -diff
*.proof text eol=lf -diff

# Documentation and markup
*.adoc text eol=lf
*.asciidoc text eol=lf
*.rst text eol=lf
*.tex text eol=lf
*.html text eol=lf
*.css text eol=lf
*.js text eol=lf
*.ts text eol=lf

# Configuration files
*.conf text eol=lf
*.cfg text eol=lf
*.ini text eol=lf
*.properties text eol=lf
*.env text eol=lf
*.dockerfile text eol=lf
Dockerfile text eol=lf
Makefile text eol=lf

# Version control and CI/CD
.github/** text eol=lf
*.workflow text eol=lf

# Nix-specific files for reproducible builds
*.patch text eol=lf
default.nix text eol=lf
shell.nix text eol=lf
release.nix text eol=lf

# Archive files for deterministic packaging
*.tar filter=lfs diff=lfs merge=lfs -text
*.tar.* filter=lfs diff=lfs merge=lfs -text

# Force consistent handling of shell scripts
*.bash text eol=lf
*.zsh text eol=lf
*.fish text eol=lf

# Python files (for build scripts)
*.py text eol=lf
*.pyx text eol=lf
*.pyd binary
*.pyc binary
*.pyo binary

# Rust-specific files
*.rlib binary
*.rmeta binary

# Certificate and key files
*.pem text eol=lf
*.crt text eol=lf
*.key text eol=lf
*.pub text eol=lf
